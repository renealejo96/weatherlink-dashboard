# ============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN PARA HOSTINGER VPS
# ============================================================================
# IMPORTANTE: Renombra este archivo a .env antes de desplegar
# NO subas este archivo con valores reales a Git

# ============================================================================
# API KEYS DE WEATHERLINK (Copiar de tu .env local)
# ============================================================================
FINCA1_API_KEY=tu_api_key_aqui
FINCA1_API_SECRET=tu_api_secret_aqui
FINCA1_STATION_ID=tu_station_id_aqui

FINCA2_API_KEY=tu_api_key_aqui
FINCA2_API_SECRET=tu_api_secret_aqui
FINCA2_STATION_ID=tu_station_id_aqui

FINCA3_API_KEY=tu_api_key_aqui
FINCA3_API_SECRET=tu_api_secret_aqui
FINCA3_STATION_ID=tu_station_id_aqui

# ============================================================================
# SUPABASE (Copiar de tu .env local)
# ============================================================================
SUPABASE_URL=https://tu-proyecto.supabase.co
SUPABASE_KEY=tu_supabase_key_aqui

# ============================================================================
# KAFKA CONFIGURATION
# ============================================================================
# Usar nombres internos de Docker para comunicación entre contenedores
KAFKA_BOOTSTRAP_SERVERS=redpanda:29092
KAFKA_TOPIC_RAW=weatherlink.raw
KAFKA_TOPIC_PROCESSED=weatherlink.processed

# ============================================================================
# FLASK APPLICATION
# ============================================================================
# IMPORTANTE: Generar una nueva SECRET_KEY para producción
# Ejecuta en Linux/Mac: openssl rand -hex 32
# O en PowerShell: -join ((48..57) + (97..102) | Get-Random -Count 32 | % {[char]$_})
SECRET_KEY=CAMBIAR_ESTO_POR_UNA_CLAVE_SEGURA_DE_64_CARACTERES

FLASK_ENV=production
FLASK_DEBUG=0

# ============================================================================
# PUERTOS (Ajustar si ya tienes servicios en estos puertos)
# ============================================================================
# Puerto donde la app Flask estará disponible externamente
HOST_PORT=8080

# Redpanda (Kafka) - Puerto externo para debugging
REDPANDA_PORT=19092
REDPANDA_ADMIN_PORT=19644

# Nginx (Si usas proxy reverso con SSL)
NGINX_PORT=80
NGINX_SSL_PORT=443

# ============================================================================
# CONFIGURACIÓN DE DOMINIO (Opcional)
# ============================================================================
# Si tienes un dominio apuntando a tu VPS
DOMAIN=tu-dominio.com
# EMAIL para certificados SSL de Let's Encrypt
SSL_EMAIL=tu-email@ejemplo.com

# ============================================================================
# CONFIGURACIÓN DE RECURSOS (Opcional - Ajustar según VPS)
# ============================================================================
# Memoria para Redpanda (default: 1G)
REDPANDA_MEMORY=1G

# Workers de Gunicorn (default: 16)
# Recomendado: (2 x núcleos_cpu) + 1
GUNICORN_WORKERS=9

# ============================================================================
# TIMEZONE
# ============================================================================
# Zona horaria para Ecuador
TZ=America/Guayaquil

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO

# ============================================================================
# NOTAS IMPORTANTES PARA PRODUCCIÓN
# ============================================================================
# 1. NUNCA uses el mismo SECRET_KEY de desarrollo en producción
# 2. Asegúrate de que FLASK_DEBUG=0 en producción
# 3. Verifica que los puertos no estén en uso por otros servicios
# 4. Si usas firewall, abre los puertos necesarios
# 5. Considera usar Nginx con SSL (HTTPS) para producción
# 6. Haz backup regular de tu base de datos Supabase
# 7. Monitorea los logs regularmente: docker-compose logs -f

# ============================================================================
# COMANDOS ÚTILES
# ============================================================================
# Ver logs:        docker-compose -f docker-compose.production.yml logs -f
# Reiniciar:       docker-compose -f docker-compose.production.yml restart
# Detener:         docker-compose -f docker-compose.production.yml down
# Ver estado:      docker-compose -f docker-compose.production.yml ps
# Reconstruir:     docker-compose -f docker-compose.production.yml up -d --build
